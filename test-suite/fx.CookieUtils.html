<!DOCTYPE html>
<html lang="en">
<head>
  	<meta charset="utf-8" />
  	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  	<meta name="apple-mobile-web-app-capable" content="yes">
  	<link rel="stylesheet" type="text/css" href="css/style.css">
	<script type="text/javascript" src="../dist/fx.min.js"></script>
    <script type="text/javascript" src="../src/utils/CookieUtils.js"></script>
	<script type="text/javascript" src="js/Benchmark.js"></script>
</head> 
<body>

	<div id="results"></div>

	<script>

        var o = {};
        o.map = {};
        o.map.lat = -33.888411125717724;
        o.map.lng = 151.22803487841793;
        o.map.zoom = 13;

		function runTests(){
            benchmark.assert(fx.CookieUtils.flush() == true, 'flush cookies');
            benchmark.assert(fx.CookieUtils.getSize() == 0, 'getSize()', fx.CookieUtils.getSize());

            benchmark.assert(fx.CookieUtils.setItem('hello', 'world'), 'set cookie');
			benchmark.assert(fx.CookieUtils.hasItem('hello'), 'has cookie');
			benchmark.assert(fx.CookieUtils.getItem('hello') == 'world' , 'get cookie');

			// Deleting the cookie
			fx.CookieUtils.removeItem('hello');

			benchmark.assert(fx.CookieUtils.hasItem('hello') == false, 'deleted cookie');
            benchmark.assert( typeof fx.CookieUtils.setItemAsJSON('my_JSON_cookie', o) == 'string', 'set JSON cookie', JSON.stringify(o));
            benchmark.assert( typeof fx.CookieUtils.getItemAsJSON('my_JSON_cookie') == 'object', 'get JSON cookie', JSON.stringify( fx.CookieUtils.getItemAsJSON('my_JSON_cookie')) );
            benchmark.assert( fx.CookieUtils.dump(), 'dump cookies to console');

            fx.CookieUtils.flush();

            fx.CookieUtils.setItem('test1', true);
            fx.CookieUtils.setItem('test2', true);
            fx.CookieUtils.setItem('test3', true);
            fx.CookieUtils.setItem('test4', true);

            console.log( fx.CookieUtils.dump() );
            benchmark.assert(fx.CookieUtils.getSize() == 4, 'getSize()','Set 4 cookies and read the size');
		}

		var benchmark = new Benchmark(document.getElementById('results'), 'fx.CookieUtils');
		runTests();
	</script>
</body>
</html>